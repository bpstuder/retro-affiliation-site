---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const consoles = await getCollection('consoles');
---

<Layout title="Consoles rétro portables">
  <h2>Consoles rétro portables</h2>
  <p>Comparatifs et fiches de consoles rétro portables pour t’aider à choisir la meilleure machine selon ton budget et tes envies.</p>

  <div class="console-list">
    {consoles.map((entry) => (
      <a class="console-card" href={`/consoles/${entry.slug}`}>
        <h3 class="console-card-title">{entry.data.title}</h3>
        {entry.data.tagline && (
          <p class="console-card-tagline">{entry.data.tagline}</p>
        )}
        <p class="console-card-meta">
          {entry.data.brand} · {entry.data.model}
          {entry.data.price_eur && <> · {entry.data.price_eur} €</>}
        </p>
      </a>
    ))}
  </div>
</Layout>